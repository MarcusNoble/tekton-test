    apiVersion: triggers.tekton.dev/v1alpha1
    kind: TriggerTemplate
    metadata:
      name: task-launcher
      namespace: tekton-pipelines
    spec:
      params:
        - name: gitrevision
          description: The git revision
        - name: gitrepositoryurl
          description: The git repository url
      resourcetemplates:
        - apiVersion: tekton.dev/v1beta1
          kind: TaskRun
          metadata:
            generateName: task-launcher-
          spec:
            serviceAccountName: tekton-pipelines-controller # TODO: Change this for something with slightly less permissions
            resources:
              inputs:
              - name: repo
                resourceSpec:
                  type: git
                  params:
                    - name: revision
                      value: $(params.gitrevision)
                    - name: url
                      value: $(params.gitrepositoryurl)
            taskSpec:
              resources:
                inputs:
                - name: repo
                  type: git
              steps:
                - name: example
                  image: bitnami/kubectl:latest
                  env:
                  - name: giturl
                    value: $(params.gitrepositoryurl)
                  - name: gitrevision
                    value: $(params.gitrevision)
                  command:
                    - bash
                  args:
                    - -c
                    - |
                      echo "apiVersion: tekton.dev/v1alpha1
                      kind: PipelineResource
                      metadata:
                        name: repo
                      spec:
                        type: git
                        params:
                          - name: url
                            value: ${giturl}
                          - name: revision
                            value: ${gitrevision}" | kubectl apply -f -
                      cd repo
                      TASKS=($(find .tasks -name "*.yaml"))
                      for TASK in $TASKS
                      do
                        # TODO: Pull in taskSpecs rather than pipeline runs and wrap them in a pipeline run with Github events added around
                        sed -E "s/^  name: (.+)/  name: \1-$(date +%s)/" $TASK | kubectl apply -f -
                      done
                      # TODO: Clean up pipelineRuns
