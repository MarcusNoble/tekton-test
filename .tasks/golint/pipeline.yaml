apiVersion: tekton.dev/v1beta1
kind: PipelineRun
metadata:
  name: go-lint
spec:
  resources:
  - name: repo
    resourceRef:
      name: repo
  pipelineSpec:
    resources:
      - name: repo
        type: git
    tasks:
    - name: lint
      resources:
        inputs:
          - name: repo
            resource: repo
      taskSpec:
        resources:
          inputs:
          - name: repo
            type: git
        steps:
        - name: lint
          image: cytopia/golint:latest
          args:
          - -set_exit_status
          - ./repo/...
